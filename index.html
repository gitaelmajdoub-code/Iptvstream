<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>مشغل البث الآمن</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #1a1a1a; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .video-container { position: relative; width: 854px; background: #000; border-radius: 10px; overflow: hidden; border: 2px solid #333; }
        video { width: 100%; display: block; }
        
        /* تصميم الأزرار كما في الصورة */
        .overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: center; z-index: 10; pointer-events: none; }
        .middle-btn { pointer-events: auto; background: rgba(255,255,255,0.1); border: 2px solid #fff; color: #fff; width: 60px; height: 60px; border-radius: 50%; margin: 0 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .play-main { font-size: 50px; color: white; cursor: pointer; pointer-events: auto; }
        
        .bottom-info { position: absolute; bottom: 10px; width: 100%; display: flex; justify-content: space-between; padding: 0 20px; box-sizing: border-box; color: #ccc; font-size: 13px; z-index: 11; }
        .tag { color: #8bc34a; font-weight: bold; }
    </style>
</head>
<body>

<div class="video-container">
    <video id="video" autoplay></video>
    
    <div class="overlay">
        <div class="middle-btn" onclick="video.currentTime -= 10"><i class="fas fa-undo"></i></div>
        <i class="fas fa-play play-main" id="pBtn" onclick="togglePlay()"></i>
        <div class="middle-btn" onclick="video.currentTime += 10"><i class="fas fa-redo"></i></div>
    </div>

    <div class="bottom-info">
        <div><i class="fas fa-signal"></i> متصل - بث مباشر</div>
        <div><span class="tag">H.264 HTML5</span> | <i class="fas fa-lock"></i> مشفر</div>
    </div>
</div>

<script>
    const video = document.getElementById('video');
    // استدعاء ملف المعالج مع معرف الفيديو
    const streamUrl = 'stream_handler.php?id=93914';

    if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(streamUrl);
        hls.attachMedia(video);
    } else {
        video.src = streamUrl;
    }

    function togglePlay() {
        const btn = document.getElementById('pBtn');
        if (video.paused) { video.play(); btn.className = 'fas fa-pause play-main'; }
        else { video.pause(); btn.className = 'fas fa-play play-main'; }
    }
</script>
</body>
</html>
